---
date: 2024-12-05
tags:
  - Claude
  - MCP
  - python
title: Claude MCP å°ç¤ºä¾‹ä»¥åŠä¸€äº›æƒ³æ³•
slug: MCP-sqlite-example-and-fix-problem
share: true
canonicalURL: ""
keywords: 
description: ""
series:
  - Claude
  - Tools
lastmod: 
lang: cn
Cover:
  image: /images/MCP-sqlite-example-and-fix-problem-20241205144747998.webp
author: hellloveyy
---
![[MCP-sqlite-example-and-fix-problem-20241205144747998.webp]]


> Anthropic å‰ä¸¤å¤©å‘å¸ƒäº† MCPï¼Œå¾ˆå¤šäººè§‰å¾—å’Œ FCã€Plugins æ˜¯ä¸€ä¸ªè·¯æ•°å¹¶ä¸çœ‹å¥½ï¼ŒæŒè§‚æœ›æ€åº¦ã€‚æˆ‘è‡ªå·±æ˜¯å‚ç…§å®˜ç½‘æ•´ä½“èµ°äº†ä¸€éæµç¨‹ï¼Œè¯´ä¸€ä¸‹è‡ªå·±çš„çœ‹æ³•ï¼Œä»¥åŠé‡åˆ°çš„å°å‘ã€‚ï¼ˆå°å£°è›è›å®˜ç½‘å±…ç„¶ä¸å†™è¿™äº›å°ç‚¹ï¼‰

## ä¸ªäººçœ‹æ³•

1. ä¸ç®¡æˆä¸æˆï¼Œå…ˆç”¨ä½ è‡ªå·±çš„ Claude å®¢æˆ·ç«¯ï¼Œåšä¸€ä¸ªæå‡ä½ æ•ˆç‡çš„å·¥å…·ä½“éªŒä¸€ä¸‹æ‰æœ‰èµ„æ ¼å»è¯„è®ºã€‚å³ä½¿ä¸æˆï¼Œæ”¶ç›Šæ€»æ˜¯ä½ è‡ªå·±çš„å˜›
	- å¯ä»¥åœ¨å®˜ç½‘çœ‹åå‡ ä¸ª caseï¼Œå¹¶ä¸” GitHub å¼€æºçš„ MCP åº”ç”¨å·²ç»ä¸å°‘äº†
	- https://github.com/modelcontextprotocol/servers
1. å¦‚æœ MCP æˆäº†ï¼Œå°±åƒæ˜¯ VS Code çš„ LSP åè®®ï¼Œå€Ÿç€å¼€æºçš„æ˜¥é£ï¼Œé‚£ä¹ˆè¿™ä¸ªç©æ„æœ‰å¯èƒ½ä¼šåšå‡º**ä¸ªäºº PC çš„è¶…çº§å…¥å£**ã€‚å½“ç„¶è¿™å°±å¾—çœ‹ mac å’Œ win åŒä¸åŒæ„äº†ï¼Œæ¯•ç«Ÿäººå®¶ä¹Ÿæƒ³åšå˜›ã€‚ä½†æ˜¯ä½ ä¸åŠ¨ï¼Œ anthropic æ›¿ä½ å…ˆå‘ã€‚ğŸ˜
2. MCP å’Œ Plugins å¾ˆåƒï¼Œä½†æ˜¯ Plugins ä½ éœ€è¦å»ä¸Šä¼ æ•°æ®ç­‰åˆ°ç¬¬ä¸‰æ–¹å¹³å°ï¼ŒMCP è™½ç„¶ä¹Ÿæœ‰æ³„æ¼çš„é£é™©ä½†æ˜¯ç›¸å¯¹å°‘ä¸€äº›ï¼Œè€Œä¸”æ•°æ®åœ¨æœ¬åœ°ï¼Œä¹Ÿçœçš„æˆ‘ ChatGPT ä¹Ÿä¼ ä¸€ä»½ï¼Œcoze ä¹Ÿä¼ ä¸€ä»½... å¥½å¤š agent å¹³å°å•Š
3. MCP å’Œ FC å¯¹æ¯”
	- ç›®çš„éƒ½æ˜¯ä¸ºäº†è®©å¤§æ¨¡å‹è°ƒç”¨å¤–æŒ‚èƒ½åŠ›ï¼Œæ‰©å±•æ›´å¤šçš„ä¸Šä¸‹æ–‡ï¼Œå®ç°æ›´å¤šçš„èƒ½åŠ›ï¼Œæ»¡è¶³ç”¨æˆ·éœ€æ±‚
	- æ¥å…¥æ–¹å¼ä¸€ä¸ªæ˜¯åœ¨æ¨¡å‹æ–¹å†™è°ƒç”¨æè¿°ï¼Œä¸€ä¸ªåœ¨ MCP client å†™æè¿°ï¼Œéƒ½æ˜¯å“ªé‡Œç”¨åœ¨å“ªé‡Œå†™ï¼Œéƒ½æ˜¯æœåŠ¡å‘ç°çš„é‚£ä¸€å¥—ã€‚ä¸è¿‡ MCP æ›´è§„èŒƒæ‰©å±•æ€§æ›´å¼ºï¼Œæœ‰æ›´å¤šçš„æŒ‡å¯¼æ„ä¹‰ï¼Œä½†æ˜¯å…¶å®ä» agent å¼€å§‹æµè¡Œä¹‹å GitHub å°±æœ‰å¾ˆå¤šå»ä¸­å¿ƒåŒ–çš„åè®®äº†ï¼Œåªä¸è¿‡ä¸æ˜¯å¤§å‚å‘å¸ƒæ ¸å¿ƒå½±å“åŠ›ä¸å¤Ÿã€‚
	- éš¾ç‚¹éƒ½æ˜¯æ¨¡å‹çš„æ„å›¾è¯†åˆ«ï¼Œç”¨æˆ· query æ‰¾åˆ°æœ€åŒ¹é…çš„èƒ½åŠ›ï¼ˆå¤–æŒ‚ï¼‰ï¼Œè·¯ç”±å•Šè·¯ç”±ï¼Œéš¾å¾—éƒ½æ˜¯åœ¨æµ·é‡çš„è´¨é‡å‚å·®ä¸é½çš„åº”ç”¨é‡Œé¢æ‰¾åˆ°æœ€åˆé€‚çš„ä¸€ä¸ªã€‚
	- å®ç°ä¸Šå­°ä¼˜å­°åŠ£çœŸä¸å¥½è¯´ï¼Œä½†æ˜¯ä¸ªäººä½¿ç”¨æ–¹é¢è§‰å¾— MCP æ›´æ–¹ä¾¿


## å®æ“åŸç†

![[MCP-sqlite-example-and-fix-problem-20241205173542947.webp]]

1. MCP Server å®ç°æ­¥éª¤ï¼š
    - é¦–å…ˆï¼Œé€šè¿‡è¯¦ç»†æè¿° promptsã€resources å’Œ toolsï¼Œæ˜ç¡®å®šä¹‰æœåŠ¡çš„å…·ä½“èƒ½åŠ›ï¼›
    - æ¥ç€ï¼Œä½¿ç”¨ server.setRequestHandler æ–¹æ³•ï¼Œç²¾ç¡®é…ç½®æ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åçš„å¤„ç†é€»è¾‘å’Œå“åº”æœºåˆ¶ï¼›
    - æœ€ç»ˆï¼Œå°† server ä¸ transport å»ºç«‹è¿æ¥ï¼Œåœ¨æœ¬åœ°ç¯å¢ƒä¸­å¼€å¯ç›‘å¬ï¼Œç­‰å¾…å¤„ç†å®¢æˆ·ç«¯çš„ RPC è¯·æ±‚ã€‚
2. MCP å®¢æˆ·ç«¯æ¥å…¥æµç¨‹ï¼š
    - åœ¨å®¢æˆ·ç«¯è®¾è®¡é…ç½®ç•Œé¢ï¼Œå…è®¸ç”¨æˆ·é¢„å…ˆå½•å…¥å¹¶ç®¡ç†æ‰€éœ€çš„ MCP Servers ä¿¡æ¯ï¼›
    - å®¢æˆ·ç«¯å¯åŠ¨æ—¶ï¼Œè¿æ¥ transportï¼Œé€šè¿‡ client.getServerCapabilities() æ–¹æ³•è·å–å·²é…ç½® MCP Servers çš„å…¨éƒ¨èƒ½åŠ›ï¼ŒåŒ…æ‹¬ promptsã€resources å’Œ tools ç­‰è¯¦ç»†ä¿¡æ¯ï¼›
    - å½“ç”¨æˆ·åœ¨å®¢æˆ·ç«¯æå‡ºé—®é¢˜æ—¶ï¼Œå°†ç”¨æˆ·çš„è¯¢é—®ä¸ MCP Servers çš„èƒ½åŠ›æè¿°ä¸€åŒæäº¤ç»™å¤§æ¨¡å‹ï¼Œè¿›è¡Œæ„å›¾è¯†åˆ«ï¼Œç”±å¤§æ¨¡å‹åˆ¤æ–­éœ€è¦è°ƒç”¨çš„æœåŠ¡åŠå…¶å‚æ•°ï¼›
    - å®¢æˆ·ç«¯æ ¹æ®å¤§æ¨¡å‹çš„å»ºè®®ï¼Œæºå¸¦ç‰¹å®šçš„ MCP Server åç§°å’Œå¯¹åº”å‚æ•°ï¼Œå‘èµ· RPC è¯·æ±‚ï¼Œè·å–æœåŠ¡å“åº”çš„æ•°æ®ï¼›
    - æœ€åï¼Œå®¢æˆ·ç«¯å°†åŸå§‹ç”¨æˆ·é—®é¢˜å’Œ MCP Server è¿”å›çš„æ•°æ®ä¸€å¹¶æäº¤ç»™å¤§æ¨¡å‹ï¼Œå®ç°ä¸€æ¬¡å¢å¼ºç”Ÿæˆï¼ˆå¯ä»¥ç†è§£ä¸º RAGï¼šRpc-call-Augmented Generationï¼‰ã€‚
3. æ–‡æ¡£æ•™å­¦
	- https://www.youtube.com/watch?v=EMfBscUM2v8&ab_channel=NiceKateAI
	- https://modelcontextprotocol.io/quickstart#installing-prerequisites-macos
  

## ä¸€ç‚¹å°å‘

> Could not attach to MCP server sqlite æ€ä¹ˆå¤„ç†

1. å¦‚æœä½ å‘ç°ä½ æŒ‰ç…§å®˜æ–¹æ²¡æœ‰æ‰¾åˆ° `claude_desktop_config.json` æ–‡ä»¶ï¼Œè¯·åœ¨ `claude -> setting -> Developer` ç‚¹å‡» edit configï¼Œæˆ–è€…åœ¨å½“å‰ç›®å½•è‡ªè¡Œç”Ÿæˆæ–‡ä»¶

![[MCP-sqlite-example-and-fix-problem-20241205170556225.webp]]

2. éœ€è¦åœ¨ä¸Šæ–¹æ“æ§æ æ‰¾åˆ° help å’Œ Developer é‡Œé¢æ‰“å¼€ç›¸åº”çš„æƒé™ï¼Œå¹¶ä¸”åœ¨æ·»åŠ è¿‡é…ç½®é¡¹ä¹‹åï¼Œé‡å¯ Claude å®¢æˆ·ç«¯
![[MCP-sqlite-example-and-fix-problem-20241205170635423.webp]]

3. æœ€åä½ çš„è¾“å…¥æ¡†æ—è¾¹å‡ºç°æ‰³æ‰‹å›¾æ ‡ (ğŸ”§) å°±ä»£è¡¨ ok äº†
![[MCP-sqlite-example-and-fix-problem-20241205170642302.webp]] 

éƒ¨åˆ†å‚è€ƒ issuï¼š https://github.com/orgs/modelcontextprotocol/discussions/50