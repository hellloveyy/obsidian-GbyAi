---
date: 2023-11-12
tags:
  - agent
  - 医美行业
  - 智能客服
  - ToB
title: 医美垂直领域的售前智能客服agent体搭建指南（未完结）
slug: medical-beauty-aigc-agent
share: true
canonicalURL: 
keywords: 
description: ""
series:
  - agent
  - 产品
lastmod: 
lang: cn
Cover:
  image: /images/medical-beauty-aigc-agent-20240119094227548.webp
author: hellloveyy
---


> 自 23 年 1 月 OpenAI 爆火之后，体验过由 AI 带来的转变，于 23 年 6 月转入产品。在当时的所思所想所做，部分落地思路以及效果是领先于行业的。我认为像是医疗相关的垂直行业如果可以做的好，那么别的也不在话下。有可能目前我们的技术达不到产品想要的效果，但是我理解并且坚信奥特曼所说：

>  ***“以通用人工智能的实现为前提进行创业和技术开发”***

>  ***“最正确的做法是设想一个上帝般的模型正在运作，然后基于这种设想来构建最好的产品”***

## 一、背景

年初以来 ChatGPT 迅速走红后，成功引爆了人工智能行情。人工智能板块行情的涨幅以及持续时间都远超最初的市场预期。

比尔·盖茨认为，“ChatGPT 的重要性不亚于互联网的发明”。同样，ChatGPT 即将创造的新业态、新模式也不会亚于互联网。

AI 正在掀起第四次工业革命，AI 大模型的竞争是下一代信息分发获取方式的竞争，基于认知智能等新技术可实现更高效的信息整合和知识推荐，让信息获取更加高效，内容更加精准。

大模型的成熟加速了 AI 技术向各场景的应用。

医美行业作为第三产业，其作为涵盖人数最多，覆盖面最广的行业之一，医美数智化转型是大势所趋。

撇开 ToC 的场景，针对 B 端需求来说，场景太多了，每一个都值得深挖：

- 企业知识库：网易 QAnything、Danswer、AnythingLLM 等
- OA 办公方面各种助手：Microsoft 365 Copilot、WPS AI、百度如流、飞书智能伙伴等
- 底层模型 SaaS 服务：minimax、文心一言、ChatGPT Api 等
- HR 方向：MOKA 简历自动筛选匹配
- 低代码和 RPA：fastGPT、dify、coze、N 8 N 等
- 电商：虚拟换装、秒出营销文案、辅助创造营销设计图、一键制定和分发优惠券、形成趋势分析等
- 辅助诊断：讯飞医疗、skinGPT（皮肤诊断+电商）、medGPT、宠物医疗 AI 在线问诊等
- CRM：商机线索、潜客挖掘、销售预测、智能客服、数字员工、数字人、数据分析等
- ...

智能客服是自擅长多轮对话的 ChatGPT 推出以来，被人们最先联想也是最容易业务对接的领域。也是一个老生常谈经久不衰的领域，大模型到底能为智能客服带来什么新生？

## 二、难点

> ***它山之石可以攻玉***

上面提到的背景，那么既然大家都能想到智能客服，那么为什么到现在能够成功商业化的 AI 智能客服还没有批量涌现？

我的亲身拙见，以当前 ChatGPT4.0 的能力，大致会遇到不止这些问题：

### 1.ToB 的包容性和严谨性

**包容性：**

相比于 ToC 的业务，其实用户对于 ToB 业务的包容性是非常弱的。

对于 ToC 大家其实是以降低期待的角度来尝试新的业务，类比之前出现的妙鸭相机、通义科目三的火爆，经过使用你会发现不少的问题，比如训练出的图像不像自己、手部与背景的各种模糊等。

但是用户是非常有耐心去进行多次尝试以获得最好的效果，这期间也帮助模型和业务获取了最好的反馈！

反观 ToB 业务，因为 B 端的付费与宣传上的稍微夸大，B 端用户对于智能客服的能力是抱有非常大的期待的！一旦有一个回复不好的 case 都可能会被无限放大！

**严谨性：**

最明显的 bad case 就是 1$ 售卖雪佛兰！当然在医疗行业所有的回复都需要一定的科学依据，这就代表着智能客服说的话一定要具有严谨性，不能回复错，也不能胡乱承诺，尤其是在国内大环境对于医美的各种限制下显得尤为重要！

### 2.拟人化

不知道你是否发现一件事情？

那就是无论你逛京东和淘宝，当你遇到问题想要咨询客服的时候，如果有"转人工"这个按钮的时候，那么你必然会去点！为什么呢？

因为智能客服这个业务并不是一个新业务，所以就会存在一个历史用户教化的问题，普遍大众因为历史上各种错误回复、不理解回复、重复回复等问题，已经对于智能客服或者机器人客服报以不信任的态度。即使回复的是正确的内容，也会转人工去确认一次。

所以在真正获取用户信任之前，或者大环境下的智能客服已经达到一定的水平，潜移默化改变人们的印象前，拟人化决定了用户还愿不愿意再跟你进行沟通。

### 3.数据积累与召回
智能客服谁都能做，为什么要用你的服务呢？

这就牵扯到了壁垒的问题，那么究竟什么是壁垒？智能客服的壁垒又是什么？

我认为是优质对话数据的积累与知识的召回准确率，一千个读者心里有一千个哈姆雷特，同样的真实的有医美诉求的用户何止一千。

夸张一点，如果能够在构建数据集的时候囊括所有的用户类型，结合营销转化能力，成单率绝对是接近或者超过真人，毕竟人力有时穷，但机器不会并且会一直成长。

对比大模型智能客服和传统 AI 客服，达到相同的解决率，基于大模型的构建 ROI 会比传统 AI 客服高很多。

例如，如果都需要达到70%的解决率，之前的方案需要花费很长时间梳理和构建知识，需要设计一套 Dialog Flow 模板配置，此类的模板可能非常复杂。

**现在基于大模型方便很多，可以用几百条语料做到过去几千上万条语料的效果。**

### 4.营销能力

要做到这一点比单纯的拟人化要复杂太多了，或者说这是一种真人化？优秀的销售是最成功的产品经理，懂得一个产品的所有优缺点，扬长避短，不光要懂心理学，SPIN 销售法也是信手拈来的。

### 5.幻觉

幻觉在 FAQ Bot 和 Task Bot 中都存在，在检索问题和提问问题时候，存在问题未被覆盖时模型开始瞎编的情况，这是所有 LLM Bot 都会面临的长期挑战，但随着模型迭代，目前看到已经得到了很大幅度的优化。至少使用 ChatGPT4.0 ，我明确看到从 bad case 收集列表里面显著减少了。

### 6.延迟

| 平均回复时长 | 产生订单的私信占比 |
|---|---|
|<5s|18.0%|
|5s-10s|15.2%|
|10s-20s|14.6%|
|20s-30s|11.7%|
|30s以上|10.7%|

**在900ms-1200ms 之内**是一个最佳的回复时间范围，太快会让客户感觉在抢话，太慢则会让客户觉得回答迟缓很不像真人。从实际场景来看，数据库请求消耗、内部系统接口消耗、请求大模型消耗等，刨除这些时间，**留给模型反馈的时间可能大概在200ms 内**，模型稍微加一些推理那么必定会超出这个时间。

以上的问题并不是全部，只是列举了一些比较突出的问题。

当然以上的问题，没有人有完美的解决方案，只能等所谓的**上帝般**的模型发布了。😄

## 三、目标和定位

**长远目标：**

达到甚至超越真人网咨

目前网咨平均薪资15K，因为垂直行业原因，培训成本高并且周期较长。智能客服的优势是不断成长完善的知识库与能力、低成本复制与定制化；

**短期定位：**
- 以人机协作的形式，覆盖 50% 的网咨白天工作流程
- 着重以夜间时段咨询为主，解决夜间咨询痛点，100%承接私信并且转化达到普通网咨水准
- Agent 框架初步完善，支持后续各种角色和 tools 的不断接入
- 原始数据持续积累


## 四、当前效果

###  1.对话效果

**请一定要降低期望，然后以观察两个人对话的视角来看哦~** 😄

此处有 N 张图，等我打码...

###  2.数据指标

累计服务医院 22 家，整理知识库与预置对话内容 20w+，服务用户 1w+，智能客服回复消息数 3.5w+，纯智能客服转化达 1500+，转化率 15%

测试医院横向对比，尤为明显：

|指标名|现有数据|目前数据|提升率|
|---|---|---|---|
|夜间咨询对话轮数|2.8|4.51|+61%|
|夜间下单率|6%|8.06%|+34.3%|
|夜间留资率|36%|43.45%|+20.6%|


## 五、Agent 初步概览
{{< figure src="/images/medical-beauty-aigc-agent-1-20240125143537966.webp" caption="">}}

> Agent = **LLM** 作为 AI Agent 的大脑，配合**规划**、**记忆**和**工具使用**等关键组件，将大任务分解为小的、可管理的子目标，从而有效地处理复杂任务。

在当时 Agent 的概念还没火的时候，其实已经按照这个架构去行进了。

思路太杂，下面我们由简入繁讲述：

### 1.简化版单次智能客服回复 SOP
{{< figure src="/images/medical-beauty-aigc-agent-20240126180030252.webp" caption="">}}

#### **1.1发起私信环节**

- 用户由商详、医院主页等页面进入私信
- 带入来源页面信息&用户信息
- 发送私信吊起 suggest 系统，协助用户输入
- 埋点记录，反馈模型

#### **1.2算法环节简要步骤**

- 私信数据入库，同步请求算法附带历史私信内容&当前私信内容&用户信息&来源页面信息
- 当前私信内容->算法前置意图识别，如果命中已设置固定回复的前置，直接依据前置回复，节约 token 的同时缩短回复时间
- 依据当前私信 + 历史上下文 5 条，检索向量知识库，相关性倒排截取指定条数
- 依据意图识别动态构建 Prompt 请求 LLM，不同模型之间 Prompt 也会有不同
- 获取 LLM 返回内容，判断意图和关键字在私信回复中加入各种富文本卡片内容，增加私信丰富度
- 数据入库后续分析，反馈模型

#### **1.3人机协作模式**

- 收到用户信息，于医院私信后台展示 suggest 回复推荐，点击回显编辑框，可修改后回复
- 根据对话意图识别，动态展示对应的富文本卡片内容，丰富私信内容，点击直接发出
- 医院可以设置日间智能客服，于指定秒数接管无人对接用户，在忙时保证用户体验

### 2.简要技术架构图

{{< figure src="/images/medical-beauty-aigc-agent-20240201121448568.webp" caption="">}}

## 六、Agent 搭建详述
### 1.全部脑图

需要 XMind 源文件可以私聊 😄
### 2.AI 相关调研

以下为相关 AI 产品与模型可行性调研举例：

- 星火医疗
- 医联 MedGPT
- Google 医疗模型 Med-PaLM 2
- SkinGPT
- 宠物医疗 AI 在线问诊
- ...
### 3.医院对接
#### **3.1医院对接反馈群**

无论产品构想在初期自认为覆盖了多少场景，但是实际在医院试用阶段，一定会有持续不断的 bad case 反馈，这个环节在项目落地中也是非常重要的，有助于初期阶段快速的帮我们提升智能客服的能力。

#### **3.2使用文档**

大概的使用文档可以用 PPT、PDF 等（简单示例），需配合页面操作截图，有敏感内容我这边就不附带截图了。
```
一、产品概述

产品背景：

与医美用户来说,在决定选择医院进行服务前，了解医院和医生的详细信息是非常重要的，在私信详细了解商品信息、医院医生水平和医院硬件实力之后有助于用户下单，而夜间人工客服不能保证全程在线，导致回复率较低，通过智能客服介入，可以减少人工客服成本，提高机构客户运营能力。

产品特点：

日间智能客服平台有清晰完善的对话窗口、智能话术推荐可供快速回复；

夜间智能客服可接替部分夜间人工客服空缺，智能与用户对话，提高夜间回复率，有效提升夜间留资率。

二、功能介绍

见下面模块 #3.3医院后台功能页面
```

#### **3.3医院后台功能页面**

**功能配置**

- 日间智能客服开关、指定多少秒之后接待
- 夜间智能客服开关、指定夜间服务时间

**日间人机协同面板**

- 案例、商品、医生智能推荐点击发送选项卡
- 智能话术推荐选项卡（模型推荐回复、本地 RAG 召回推荐回复）
- 输入框 suggest 推荐列表

**知识库**

- 医院自身+通用知识库增删改查对应操作，关联标签分类，以及立即生效说明
- 上传医院内部知识文档功能

**预置对话**

- 预置对话增删改查对应操作，关联标签分类，以及立即生效说明
- 预置对话问题包含标准问法+相似问法、区分日间回复和夜间回复内容
- 对话界面可快捷设置预置对话，直接点用户私信问题添加预置对话

**自测页面**

- 网咨可验证添加到智能客服知识库和预置的内容是否生效；在配置知识库和预置对话之后在 1 分钟左右生效
- 可站在用户角度全方位接触并调试智能客服
- 每自然日可测试 50 次

**私信 QA 收集列表**

- 算法每日采集私信，请求大模型形成 QA 数据，机构在此列表确认生效

### 4.产品管理后台

#### **4.1医院管理后台**
- 医院基础信息管理后台
- 所有知识库、预置回复管理后台
- Bad case 跟进汇总列表
	- 问题归类
	- 问题描述
	- 附件
	- 提出日期
	- 提出人员
	- 状态：待解决、已解决、业务问题无法解决、模型问题无法解决、知识召回问题等
	- 使用模型：ChatGPT 3.5、ChatGPT 4.0、minimax 等
	- 解决方式
	- 解决人员
	- 解决日期
	- 解决后效果展示
#### **4.2算法测试后台**
- 模拟指定医院测试页面
- 向量召回率测试页面
- 智能客服私信对话展示页面
#### **4.3自定义 Agent 搭建平台**

**流程编排**
- 可视化编辑对话流程图，领域识别，挂靠类目树。参考 fastgpt，dify，coze
- 自定义 action tools，产品可根据不同场景自由组合，满足更多场景

**多 Agent 共同协作完成售前转化**

为了达成高度的拟人化以及挖掘用户深度需求，当前的一问一答模式已不满足。

{{< figure src="/images/medical-beauty-aigc-agent-20240201162848168.webp" caption="">}}

拆解任务，让基座模型在指定的垂直任务上做到最优，既是当前向下兼容模型能力的方式，也是后续提升模型效果的方式。

这种 Prompt 技巧也是 CoT 的一种延伸。

{{< figure src="/images/medical-beauty-aigc-agent-20240201165602729.webp" caption="">}}

延伸到 agent 的构建，不同的 prompt 其实对应的就是一个个的小 agent 体。

其中掌握专业医美知识的医生 Agent 负责专业问题上的回复，对应医美类型外挂知识库，以及对应的前后置处理方式等。

销售 agent 会有专门的意图识别对应不同的话术，最终交给大模型处理判断。
- 无处不在的形式感
- 增加用户信任度

{{< figure src="/images/medical-beauty-aigc-agent-20240201193629860.webp" caption="">}}
{{< figure src="/images/medical-beauty-aigc-agent-20240201193653658.webp" caption="">}}
{{< figure src="/images/medical-beauty-aigc-agent-20240201193706121.webp" caption="">}}
{{< figure src="/images/medical-beauty-aigc-agent-20240201193722242.webp" caption="">}}
{{< figure src="/images/medical-beauty-aigc-agent-20240201193733996.webp" caption="">}}

管理 agent 需要保证整体私信方向，检验重复发出内容，违规内容，用户情绪检测等后置处理。

Multi-Agents 协同处理，看似是在一个对话框内的两个人，其实是一堆 agent 努力一起转化用户！
{{< figure src="/images/medical-beauty-aigc-agent-20240201171251212.webp" caption="">}}
### 5.算法


### 6.评级文档

#### **6.1评估集搭建**

始终认为搭建评估集是重中之重，它能客观的证明所有的调整动作收益如何，并且给出明确的优化方向，但是这部分对于整个流程是非常耗费时间和人力的。

相当于这就是一份试卷，但是怎么把这个试卷做到完美，我参考的麦肯锡的 MECE 法则。

MECE 中文是「Mutually Exclusive Collectively Exhaustive （相互独立，完全穷尽）」 是指当我们面对复杂大问题时，因为问题本身因果错综复杂，我们难以轻易分析。

而透过 MECE 分析法， **从达成目标的最高层次开始，一层一层往下，能将问题拆小成多个彼此独立而完整小问题，不重不漏**，让我们更好理解问题、也更容易进行有效的分析与判断。

在做分析时，我们能用两个 MECE法则来检视其有效性。

- 完整性： 由上往下分解的内容，是否有遗漏掉哪一项？每个子项的总和是否即等于母项？

- 独立性： 每个子项之间是否独立，不会出现交叉重迭的情况？

---

**首先**，针对国内做中文测评比较专业的团队，以及相关公司公开测评指标参考，我做了详细的分析如下，这里就不展开细说了。

- 真格基金 https://mp.weixin.qq.com/s/HVoM6F3FV3vvs5rANPQhxQ
- 思南 OpenCompass _https://opencompass.org.cn/_
- SuperCLUE https://mp.weixin.qq.com/s/9D9nZtpkW_RfRbC7mPaegQ
- InfoQ 大语言模型综合评测报告2023
- `PandaLM` ——北京大学、西湖大学 PandaLM: 评估大模型的大模型, 保护隐私、可靠、可复现，三行代码即可调用
- `Evaluation on the Hub` ——Hugging Face
- `CMMLU` ——通用针对中文大模型评估
- 医联 MedGPT  
	- 评测人员规模确认：100+患者、10位主治医师
	- 评审能力维度：独有的「DIAE」医疗 AI 建设方法论，分别从 Disease（病种覆盖）、Intelligence（智能化）、Accuracy（准确性）、Efficiency（就医效率）四个维度来建设与打磨产品。通过准确性、客观数据支持、可信度、人机交互性来构造评分系统。
{{< figure src="/images/medical-beauty-aigc-agent-20240201121723558.webp" caption="">}} 
{{< figure src="/images/medical-beauty-aigc-agent-20240201121737569.webp" caption="">}} {{< figure src="/images/medical-beauty-aigc-agent-20240201121844096.webp" caption="">}}

---

**横向对比总结:**

{{< figure src="/images/medical-beauty-aigc-agent-20240129161411999.webp" caption="">}}


**其次**，明确目标以及调研当前目标下的重要动作，并且咨询了大量的专业客服人员。梳理了他们比较关注的一些指标如下，但是还是很分散，并不能让我清晰的理解，"什么才是一个合格的客服？"。

{{< figure src="/images/medical-beauty-aigc-agent-20240129144339723.webp" caption="">}}

**客服主管更关注的是落地数据指标：**

**总对话量私信数**：它可以帮助您理解客服的工作量，并可以用来对比不同时间段或不同客服的活动水平。

**满意度评价**：通过用户反馈或者调研，了解客户对售前服务的满意度。

**无用评价率**：衡量客户对服务不满或者服务无效的频率。

**转化能力**：衡量售前客服是否能成功将潜在客户转化为留资建档、实际下单、到院的客户。

**私信有效率**：（解决问题的私信轮数 / 总的私信轮数）x 100%，越低证明客服越高效，也能降低流失。

{{< figure src="/images/medical-beauty-aigc-agent-20240129143033330.webp" caption="">}}

在查看了 N 次对话之后，以上面一次全流程来分析整个对话。

根据一次有效转化流程，去拆分为三部分：理解需求->解决问题->引导营销，然后再根据这三部分去细拆，最终分为如下能力组成。

{{< figure src="/images/medical-beauty-aigc-agent-20240129144244280.webp" caption="">}}
大厦不是一天建成的，每一个能力必定不会一开始就全面覆盖，并且其实每一个能力都有其难度梯度，根据不同的能力难度，设置了不同的角色级别，中间也提前考虑到了后续商业化的区分😄。

{{< figure src="/images/medical-beauty-aigc-agent-20240129162808819.webp" caption="">}}
**能力难度划分：** 当一个能力难度下的 N 个问题都能达到标准，则对应能力能力达标。

**评估集问题设计示例**（问题很多这里只是参考示例哈）

**理解性**：理解客户问题和需求的能力，包括理解文字、图片、视频等多种信息。理解力越强，模型就越能准确地理解用户的问题，并提供相应的解答。

- 1分：能理解用户非常简单的、明确的，并且正确的文本内容。
    
    - "营业时间是什么时候"
        
- 2分：能理解一些复杂的文本，但可能无法处理有深层含义或模糊不清的问题。
    
    - "我最近发现脸部有点松弛，热玛吉效果怎么样？"
        
- 3分：能理解一定程度复杂或者模糊的问题，并且进行稍微逻辑性分析。
    
    - "我想要改善我的皮肤状况，但我不确定应该选择哪种产品"
        
- 4分：能理解大部分的文本问题，包括一些含有深层含义和模糊性。对于非文本输入，如图片和视频，有一定的理解能力。
    
    - 图片+"你可以看一下目前我的面部需要做什么项目吗？"
        
- 5分：能理解并处理各种复杂、深层和模糊的问题，包括理解复杂的非文本信息。
    
    - 图片/视频+"你可以看一下目前我的面部需要做什么项目吗？并且设计一套方案"

**定制化**：根据用户的个性化需求（例如个人信息、预算、偏好等）提供个性化建议和方案的能力。这需要模型能够理解并处理用户的个性化信息，并在此基础上提供适合用户的解答和建议。

- 1分：仅能提供一些基本和通用的医疗方案，无法进行个性化定制。
    
    - 用户问："我想抗初老"
        
    - 模型回答："热玛吉是一种很好的抗衰老治疗方式。"
        
- 2分：能根据一些基本的个人信息进行简单的定制，但可能无法考虑用户的预算和个人喜好。
    
    - 用户问："我想抗初老"
        
    - 模型回答："热玛吉是一种很好的抗衰老治疗方式，它使用射频能量来刺激胶原蛋白的产生，有助于提升和紧致肌肤。"
        
- 3分：能根据个人信息、预算和一些基本的喜好进行定制，但可能对一些特殊需求处理不足。
    
    - 用户问："我想尝试热玛吉，我是敏感肌肤"
        
    - 模型回答："对于敏感肌肤的人，热玛吉治疗通常是安全的，但你可能会经历一些暂时的红肿。在治疗前，我们会进行详细的肌肤评估，以确保这种治疗方式适合你。"
        
- 4分：能根据个人信息、预算和大部分喜好进行定制，只有极少数特殊需求处理不足。
    
    - 用户问："我想尝试热玛吉，我是敏感肌肤，预算在2w以内"
        
    - 模型回答："考虑到你的肌肤状况和预算，我建议你尝试我们的标准热玛吉治疗方案，它包括一次全面的肌肤评估和3次热玛吉治疗，总价在你的预算范围内。"
        
- 5分：能全面考虑个人信息、预算和所有喜好，为每个用户提供完全定制的医疗方案。
    
    - 用户问："我想尝试热玛吉，我是敏感肌肤，预算在2w以内，希望在秋天凉快点再进行治疗"
        
    - 模型回答："考虑到你的肌肤状况、预算和时间要求，我建议你在9月开始我们的标准热玛吉治疗方案。这个方案包括一次全面的肌肤评估和3次热玛吉治疗，每次治疗间隔一个月。这样你就可以在秋季结束前完成所有治疗，总价也在你的预算范围内。"

#### **6.2人工评估**

经过以上的能力划分，并且内部达成一致后，我们邀请了公司的金牌客服，针对智能客服的回复进行打分，并且附上金牌客服的最优回复。详细的问题集这里就不列出了哈。

**评估方法**

1. 确认各个能力细项的10个问题；
    
2. 分别输入获取智能客服答案；
    
3. 从线上客服中抽样x人进行问题作答，收集样本数据；
    
4. 进行结果对比（智能客服回答VS人工客服回答），并标注对错；
    
5. 最后进行能力打分；

**评估体系得分计算规则**

- 【能力得分】=能力权重系数*sum(细分项得分)
    
- 【能力细项得分】=细分能力权重系数*实际得分
    
- 【实际得分】为机器打分或人工客服进行的打分结果
    
	注：①橙色：需要填写；②能力权重系数、细分能力权重系数基线均为1 ，可根据实际需要做权重调整；

{{< figure src="/images/medical-beauty-aigc-agent-20240129164423577.webp" caption="">}}

#### **6.3自动评估**

**为什么要引入自动评估 ？**

1. OpenAi 因为众所周知的原因，会导致我们的服务非常不稳定，需国内大模型做容灾，但是经历过 Minimax 和文心一言的模型替代过程，医院大量的负面反馈和设置提示词无效，证明我们的主观评估是有很大风险的。
2. 目前向量召回的精准度和召回率，制约我们扩充向量库，而我们缺少客观的向量召回对于大模型的评估。
3. 提示词的优化和简化，是提升效果和节约成本的快捷途径，目前针对10多家实验医院，我们只敢小范围调整，无法在结构上动刀
4. 金牌客服人工手动评分，首先具有一定的主观性，其次占用大量的人力成本，明显跟不上 agent 的不断迭代速度

**目标**

建立一套评分体系，以评估每次提示词、向量库和大模型的更迭对系统性能的影响。这个评分体系将使我们能够主动监控和改进系统，确保每次更迭都要达到或超过当前评分。

**动作：构建专业标注问题库**

建立一个专业的问题库，其中包含医美行业的常见问题（包括医院独有数据的接入，从而影响答案）。这个问题库将帮助我们更好地标注和评估智能客服系统的性能，以确保其在医美领域的可用性和准确性。

示例问题由标注师和金牌客服共同提出，保证问题和回答的专业性和规范性，内容包括但不限于多选题，填空选择题。后续可由金牌客服依据示例问题，独立补充问答。

**一期自动测试结果：**

| 模型 | 一测准确率 | 增加 RAG 的准确率 | 二测准确率 | 两次测试准确率波动 | 平均方差 | 知识召回率 | 总条数 |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| minimax | 0.449832776 | 0.444210526 | 0.498327759 | 0.05 | 0.52 | 0.794314381 | 598 |
| chatgpt3.5 | 0.359531773 | 0.347457627 | 0.339464883 | 0.02 | 0.64 |  |  |
| chatglm | 0.277591973 | 0.258947368 | 0.259197324 | 0.02 | 0.66 |  |  |
| gpt4 | 0.571906355 | 0.573248408 | 0.553511706 | 0.02 | 0.42 |  |  |
| 文心一言 | 0.317725753 | 0.305263158 | 0.322742475 | 0.005 | 0.7 |  |  |

**结果分析：**

1. 根据测试结果，可知在本数据集上，模型问答能力 gpt4>minimax>chatgpt3.5>文心>chatglm
2. 除了 gpt4外，其他模型加入知识对结果的判断总体都成负向，证明 RAG 召回内容质量有待提升

### **7.数据报表**

以天维度统计报表，定时发送，指标分别为：
- 纯智能转化率（下单、留资）：纯夜间智能客服结果指标
- 机 + 人转化率（下单、留资）：夜间智能客服初步接待后，第二天网咨承接的结果指标
- 对话轮数：智能客服回复质量
- 夜间私信量（PV、UV）：私信总量健康度
- 日间私信量（PV、UV）：私信总量健康度
- 回复率：一般为 100%，监控程序健康度
- 知识召回率：评估大模型 RAG 健康度，与知识库内容质量

### **8.站外功能**

自制 Chrome 插件，目的：
- 辅助网咨回复 
- 收集站外私信
- 提升医院使用粘性和用户习惯
医院肯定会有多方投放，但是话术库可以一直使用一套，降低网咨回复与学习成本，同时采集站外私信用以丰富知识库，在长久养成的用户习惯下，医院不会轻易更换，抢占先机。

### **9.成本**

在保证效果的前提下，优化 Prompt 和 RAG 结果，每天单医院成本缩减至 10$，收支报表如下：

{{< figure src="/images/medical-beauty-aigc-agent-20240129224144219.webp" caption="">}}

## 七、结言

以上内容纯属拙见。本篇内容没什么高深的东西，只是产品落地后的自我总结和展望。

文章中小部分环节其实我也在构想和实施中，并没有拿到最终的结果，AI 的发展真的太快了，有可能 GPT-5 的发布直接把我的部分想法掐灭，也有可能现在的动作都变成了儿戏。😄

大厦不是一天建成的，整个系统也是需要不停迭代。这是对我自己这一段时间心血的总结，希望可以对你正在做的项目有一些启发，互相讨论，众人拾柴火焰高嘛！

做一个全身心投入的产品真的太有意思啦~

相关文章： [llm-pk-tradition]({{< relref "llm-pk-tradition.md" >}})